# Project Config Example

This project shows how to create a deployment-as-a-code as we use at Proof Trading.

Just to illustrate this project is deploying QuickfixJ Examples app: Executor and Banzai.
- Executor is a simple fix acceptor app that fully fill all orders received.
- Banzai is a fix initiator UI that allow someone to send orders. 

The main goal of this project config is to make sure that Production and UAT environments are in perfect synch.
- How do you make sure UAT is replicating Prod?
- How can you validate something in UAT and make sure Prod deployment will work?
- Are Prod and UAT configs generated the same way?

These are just few of the questions that this project tries to solve.
For more details please see the full post on medium: 

# Dependencies

- Ansible: Ansible is a suite of software tools that enables infrastructure as code. It is open-source and the suite includes software provisioning, configuration management, and application deployment functionality. 
https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html

# How to build project

The command below builds the project.
```
ansible-playbook -i ansible/inventory.ini ansible/build.yaml
```
But what a build actually means here?
Build generates a folder called generatedCode that all artifacts needed to deploy it properly.

Please take a look at this medium post with more details.

# How to deploy

Deployment is divided in 2 parts and its actual code is generated by environment as part of build process.
Deployment code is inside Ansible folder for each environment inside generatedCode folder.

As you can realize the deployment code is specific by environment.
Here is an example of commands to deploy UAT environment.

```
ansible-playbook -i generatedCode/uat/ansible/inventory.ini generatedCode/uat/ansible/deployArtifacts.yaml
ansible-playbook -i generatedCode/uat/ansible/inventory.ini generatedCode/uat/ansible/setupEnvironment.yaml
```

- DeployArtifacts basically copies all generatedCode for that environment for all hosts.
- SetupEnvironment is responsible to setup all folders, links and any other setup that is required.

# Conclusion

This is just an example and possibilities to expand this are infinite.
You could basically automate any part of your deployment to make sure UAT and PROD are always in synchrony.